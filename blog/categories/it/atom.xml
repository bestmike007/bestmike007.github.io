<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: it | Mike's Blog]]></title>
  <link href="http://bestmike007.com/blog/categories/it/atom.xml" rel="self"/>
  <link href="http://bestmike007.com/"/>
  <updated>2014-08-28T15:43:53+08:00</updated>
  <id>http://bestmike007.com/</id>
  <author>
    <name><![CDATA[Mike He]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Resolve &#8216;Unknown Encoding&#8217; Error for Buffer in Node.js]]></title>
    <link href="http://bestmike007.com/2013/06/resolve-unknown-encoding-error-for-buffer-in-node-js/"/>
    <updated>2013-06-09T00:00:00+08:00</updated>
    <id>http://bestmike007.com/2013/06/resolve-unknown-encoding-error-for-buffer-in-node-js</id>
    <content type="html"><![CDATA[<p>According to the official document for Buffer implementation, the Buffer class only supports a few encoding charsets including &#8216;ascii&#8217;, &#8216;utf8&#8242;, &#8216;utf16le&#8217;, &#8216;ucs2&#8242;, &#8216;base64&#8242;, &#8216;binary&#8217;, and &#8216;hex&#8217; [<a title="Node.js Buffer class" href="http://nodejs.org/api/buffer.html#buffer_buffer" target="_blank"><a href="http://nodejs.org/api/buffer.html#buffer_buffer">http://nodejs.org/api/buffer.html#buffer_buffer</a></a>]. So if you&#8217;re calling &#8216;toString&#8217; method from a Buffer instance you should probably get an &#8216;Unknown Encoding&#8217; error , e.g. reading a text file encoded by &#8216;latin1&#8242; or &#8216;ISO-8859-1&#8242;. This post provides a quick fix to this problem.</p>

<!--more-->


<p>This solution requires iconv. You can install it with npm.</p>

<pre>npm install iconv</pre>


<p>And then before using Buffer.toString method, override it with the following code.</p>

<pre>var Iconv = require('iconv').Iconv;

Buffer.prototype._$_toString = Buffer.prototype.toString;
Buffer.prototype.toString = function(charset) {
    if (typeof charset == 'undefined' || charset == 'utf8' || charset == 'utf16le' || charset == 'ascii' || charset == 'ucs2' || charset == 'binary' || charset == 'base64' || charset == 'hex') {
        return this._$_toString.apply(this, arguments);
    }
    var iconv = new Iconv(charset, 'UTF-8');
    var buffer = iconv.convert(this);
    var args = arguments;
    args[0] = 'utf8';
    return buffer.toString.apply(buffer, args);
}</pre>


<p>And that&#8217;s all.</p>

<p>P.S. This solution is originated from <a href="http://stackoverflow.com/questions/14551608/cant-find-encodings-for-node-js" target="_blank"><a href="http://stackoverflow.com/questions/14551608/cant-find-encodings-for-node-js">http://stackoverflow.com/questions/14551608/cant-find-encodings-for-node-js</a></a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Free Lightweight Groupware Solution for Small Business]]></title>
    <link href="http://bestmike007.com/2012/09/free-lightweight-groupware-solution-for-small-business/"/>
    <updated>2012-09-03T00:00:00+08:00</updated>
    <id>http://bestmike007.com/2012/09/free-lightweight-groupware-solution-for-small-business</id>
    <content type="html"><![CDATA[<p>It&#8217;s been a long time since my last blog post. Recently, I&#8217;ve been working on our own company since spring. We are planning to sell novel and creative things targeted United States market on <a title="Find Unique Gifts, Unusual Products and Home Décor at Claybox!" href="http://www.claybox.com/" target="_blank">www.claybox.com</a>. As the director of the IT department of our company, I&#8217;ve been considering how everyone in our company can co-operate. We&#8217;re planning to deploy several common groupware systems, e.g. the bug tracking system, the internal wiki system, etc. And we also need an active directory to provide credentials for these systems.</p>

<!--more-->


<h2>The Problem</h2>

<p>Of course, the solution can be:</p>

<ol>
<li>Microsoft Exchange</li>
<li>VMWare Zimbra</li>
<li>Open X-change</li>
</ol>


<p>But Microsoft Exchange is too expensive for most small business companies to afford. We&#8217;ve been using Zimbra Community for a little while. It has most of the features we need including mail, calendar, ldap, etc. It&#8217;s really simple and easy to use, however, it has several disadvantages:</p>

<ol>
<li>Additional work for hardware maintenance</li>
<li>Risks of data loss caused by hardware failure</li>
<li>Not-quite-familiar user interfaces</li>
<li>No mobile support with community edition</li>
</ol>


<p>These advantages coalesced to force me reconsider another long-term solution. And this solution comes from the very simple principles resulting from trying to get rid of those disadvantages listed above. But how?</p>

<h2>The Solution</h2>

<p>First and foremost, pick up your most favorite email service provider, e.g. Gmail (with calendar and mobile access). Then create new accounts for everyone in your company. And enable IMAP for all these accounts.</p>

<p>Secondly, develop the ldap server. Don&#8217;t panic, it&#8217;s really simple with <a title="OpenDJ LDAP SDK" href="http://opendj.forgerock.org/opendj-ldap-sdk/" target="_blank">OpenDJ LDAP SDK</a>. It&#8217;s a simple delegate server which authenticate the users with the Gmail IMAP server. Just create a new Java application with the following code:</p>

<pre>/**
 *
 * @author Mike
 */
public class Server {
    /**
     * @param args the command line arguments
     */
     public static void main(String[] args) throws Exception {
        File csv = new File("address_biz.csv");
        System.out.println(csv.getAbsolutePath());
         final ServerConnectionFactory&lt;LDAPClientContext, Integer&gt; connectionHandler = Connections.newServerConnectionFactory(new IMAPBackend());
         final LDAPListenerOptions options = new LDAPListenerOptions().setBacklog(4096);
         LDAPListener listener = null;
         try {
             listener = new LDAPListener("0.0.0.0", 389, connectionHandler, options);
             System.out.println("Running the ldap server...");
             synchronized (listener) {
                 listener.wait();
             }
         } catch (Exception ex) {
             ex.printStackTrace(System.err);
         } finally {
             if (listener != null) {
                 listener.close();
             }
         }
     }
}</pre>


<p>IMAPBackend is the LDAP request handler:</p>

<pre>public class IMAPBackend implements RequestHandler&lt;RequestContext&gt; { ... }</pre>


<p>And we only implement 2 of those methods, the first one is the bind method:</p>

<pre>@Override
public void handleBind(RequestContext c, int i, BindRequest br, IntermediateResponseHandler irh, ResultHandler rh) {
    GenericBindRequest request = (GenericBindRequest) br;
    String dn = br.getName();
    System.out.println("Binding: " + dn);
    String pass = new String(request.getAuthenticationValue());
    String uid = "";
    for (String s : dn.split(",")) {
        s = s.trim();
        if (s.startsWith("uid=")) {
            uid = s.substring(4);
        }
    }

    Properties props = System.getProperties();
    props.setProperty("mail.store.protocol", "imaps");
    try {
        Session session = Session.getDefaultInstance(props, null);
        Store store = session.getStore("imaps");
        store.connect("imap.gmail.com", 993, uid + "@gmail.com", pass);
        store.close();
        rh.handleResult(Responses.newBindResult(ResultCode.SUCCESS));
        System.out.println("Bind " + uid + " success.");
    } catch (Exception ex) {
        //ex.printStackTrace(System.err);
        rh.handleResult(Responses.newBindResult(ResultCode.INVALID_CREDENTIALS));
        System.out.println("Bind " + uid + " fail.");
    }
}</pre>


<p>The second one is the search method, in which you need to maintain an address book for your company:</p>

<pre>@Override
public void handleSearch(RequestContext c, SearchRequest sr, IntermediateResponseHandler irh, SearchResultHandler srh) {
    System.out.println("Searching: " + sr.getFilter().toString());
    for (Entry e : load()) {
        if (sr.getFilter().matches(e).toBoolean()) {
            System.out.println("Search matched: " + e.getName());
            srh.handleEntry(Responses.newSearchResultEntry(e));
        }
    }
    srh.handleResult(Responses.newResult(ResultCode.SUCCESS));
}</pre>


<p>And you should implement the load function, for example the following code load the address book from a csv file:</p>

<pre>private static List load() {
    File csv = new File("address.csv");
    if (!csv.exists()) {
        return Collections.emptyList();
    }
    Scanner scanner = null;
    try {
        scanner = new Scanner(new InputStreamReader(new FileInputStream(csv)));
        scanner.nextLine();
        List list = new ArrayList();
        while (scanner.hasNextLine()) {
            String attrs[] = scanner.nextLine().split("\",\"");
            String name = attrs[0].substring(1);
            String email = attrs[1];
            String alias[] = attrs[2].split(",");
            String uid = email.substring(0, email.indexOf("@"));
            String ou = attrs[3];
            if (ou.isEmpty()) {
                continue;
            }
            Entry e = new LinkedHashMapEntry();
            e.setName(DN.valueOf(String.format("uid=%s,ou=people,dc=gmail,dc=com", uid)));
            e.addAttribute("uid", uid);
            e.addAttribute("cn", name);
            e.addAttribute("email", email);
            e.addAttribute("mail", email);
            e.addAttribute("ou", "people");
            list.add(e);
            for (String a : alias) {
                if (a.isEmpty()) {
                    continue;
                }
                uid = a.substring(0, a.indexOf("@"));
                e = new LinkedHashMapEntry();
                e.setName(DN.valueOf(String.format("uid=%s,ou=people,dc=gmail,dc=com", uid)));
                e.addAttribute("uid", uid);
                e.addAttribute("cn", name);
                e.addAttribute("email", a);
                e.addAttribute("mail", a);
                e.addAttribute("ou", "people");
                list.add(e);
            }
        }
        scanner.close();
        return list;
    } catch (Exception ex) {
        ex.printStackTrace(System.err);
        return Collections.emptyList();
    } finally {
        if (scanner != null) {
            scanner.close();
        }
    }
}</pre>


<p>And of course, you can implement your own search function with your preferred way to access your company address book. And that&#8217;s all for this ldap server.</p>

<p>At last, deploy the ldap server along with all the other groupware systems, e.g. MantisBT, mediawiki, etc.</p>

<p>Here is an example for the MantisBT configuration:</p>

<pre>$g_allow_signup = OFF;
$g_login_method = LDAP;
$g_ldap_server = 'ldap.example.com';
$g_ldap_root_dn = 'dc=gmail,dc=com';
$g_ldap_protocol_version = 3;
$g_ldap_bind_dn = 'uid=ldap.example.com,dc=gmail,dc=com';
$g_ldap_bind_passwd = 'internal_s3cret';
$g_use_ldap_email = ON;
$g_ldap_realname = 'cn';
$g_use_ldap_realname = ON;</pre>


<p>And the example configuration for media wiki:</p>

<pre>$wgGroupPermissions['*']['createaccount'] = false;
$wgGroupPermissions['*']['edit'] = false;
$wgGroupPermissions['*']['read'] = false;
$wgGroupPermissions['*']['createpage'] = false;
$wgGroupPermissions['*']['createtalk'] = false;
$wgGroupPermissions['*']['writeapi'] = false;

# LDAP
require_once( dirname( __FILE__ ) . "/extensions/LdapAuthentication/LdapAuthentication.php" );
$wgAuth = new LdapAuthenticationPlugin();

$wgLDAPDomainNames = array("example.com");
$wgLDAPDebug = 3; $wgDebugLogGroups["ldap"] = "/tmp/ldap.log" ;
$wgLDAPBaseDNs = array("example.com" =&gt; "dc=gmail,dc=com");
$wgLDAPServerNames = array("example.com" =&gt; "ldap.example.com");
$wgLDAPSearchAttributes = array('example.com' =&gt; "uid");
$wgLDAPEncryptionType = array("example.com" =&gt; "clear");
$wgLDAPProxyAgent = array("example.com" =&gt; "uid=ldap.example.com,dc=gmail,dc=com");
$wgLDAPProxyAgentPassword = array("example.com" =&gt; "internal_s3cret");</pre>


<h2> Conclusion</h2>

<p>This is a really simple solution which suit well for our company. We&#8217;re now using tencent enterprise email solution free edition with our own domain name. And we&#8217;re going to extend this whole system and make it robust for the long run. I sincerely hope that this can also help your business and please feel free to contact me (i &#8216;at&#8217; bestmike007.com). Thank you!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Secure Data Transmission between Pure PHP and JavaScript using RSA]]></title>
    <link href="http://bestmike007.com/2011/08/secure-data-transmission-between-pure-php-and-javascript-using-rsa/"/>
    <updated>2011-08-31T00:00:00+08:00</updated>
    <id>http://bestmike007.com/2011/08/secure-data-transmission-between-pure-php-and-javascript-using-rsa</id>
    <content type="html"><![CDATA[<p>During the last few days I was looking for an approach to secure data transmission between server written in PHP and browser that runs JavaScript. I failed to find a direct solution, however I made some adaption to some of the existing open source projects and built my own solution to this problem.</p>

<!--more-->


<h2>The Existing Projects</h2>

<p>At the very beginning I found this: <a href="http://www.ohdave.com/rsa/">http://www.ohdave.com/rsa/</a></p>

<p>&nbsp;</p>

<p>It&#8217;s quite good solution for JavaScript and I searched for the correlated PHP solution and I found this easily: <a href="http://www.sematopia.com/2008/10/rsa-encrypting-in-javascript-and-decrypting-in-php/">http://www.sematopia.com/2008/10/rsa-encrypting-in-javascript-and-decrypting-in-php/</a></p>

<p>However, it uses the <a href="http://pear.php.net/package/Crypt_RSA/">Crypt_RSA package</a> with several dependencies and in some circumstances those packages would not be available. So I started to search for some pure PHP solution.</p>

<p>Then I found this one: <a href="http://code.google.com/p/bi2php/">http://code.google.com/p/bi2php/</a></p>

<p>I tried but failed to run this on my development computer with wamp running on Windows 2008r2.</p>

<p>And this one: <a href="http://stevish.com/rsa-encryption-in-pure-php">http://stevish.com/rsa-encryption-in-pure-php</a></p>

<p>I don&#8217;t know because I hadn&#8217;t tried to make it work because I failed to find a correlated JavaScript implementation.</p>

<p>And I found this from stanford: <a href="http://www-cs-students.stanford.edu/~tjw/jsbn/">http://www-cs-students.stanford.edu/~tjw/jsbn/</a></p>

<p>This is quite good except for the &#8220;message too long&#8221; limitation.</p>

<p>And <a href="https://ziyan.info/exibits/javascript-rsa/login.html">https://ziyan.info/exibits/javascript-rsa/login.html</a> is almost based on that.</p>

<p>At last I noticed <a href="http://phpseclib.sourceforge.net/">http://phpseclib.sourceforge.net/</a>. I&#8217;m quite sure it&#8217;s what I&#8217;m looking for and I tried to adapt it to the projects listed above but they all failed.</p>

<p>Then I tried to make some adaption for some of the JavaScript implementation and finally I built an adapted version of jsbn that works with phpseclib.</p>

<h2>The Solution</h2>

<p>This solution makes phpseclib works with RSA and ECC in JavaScript from <a href="http://www-cs-students.stanford.edu/~tjw/jsbn/">http://www-cs-students.stanford.edu/~tjw/jsbn/</a> with some modification.</p>

<ol>
<li>Edit the rsa.js, add a function after the RSAEncrypt function:</li>
</ol>


<pre>function RSAEncryptLong(text) {
  var length = ((this.n.bitLength()+7)&gt;&gt;3) - 11;
  if (length &lt;= 0) return false;
  var ret = "";
  var i = 0;
  while(i + length &lt; text.length) {
    ret += this._short_encrypt(text.substring(i,i+length));
    i += length;
  }
  ret += this._short_encrypt(text.substring(i,text.length));
  return ret;
}</pre>


<ol>
<li>modify the last line from</li>
</ol>


<pre>RSAKey.prototype.encrypt = RSAEncrypt;</pre>


<p>to:</p>

<pre>RSAKey.prototype._short_encrypt = RSAEncrypt;
RSAKey.prototype.encrypt = RSAEncryptLong;</pre>


<ol>
<li>When using phpseclib to decrypt the message, set the encrypt mode to PKCS1:</li>
</ol>


<pre>$rsa = new Crypt_RSA();
$rsa-&gt;setEncryptionMode(CRYPT_RSA_ENCRYPTION_PKCS1);</pre>


<h2> To Adopt the Solution</h2>

<ol>
<li>encrypt the message from browser:</li>
</ol>


<pre>&lt;script type="text/javascript" src="jsbn.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="prng4.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="rng.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="rsa.js"&gt;&lt;/script&gt;
&lt;script&gt;
function encrypt(msg) {
    var rsa = new RSAKey();
    rsa.setPublic('8a5f4d4fa7dd78ca8539ba8b9581b30c9ce04e1998cd881d5279221984bc606e2c7d3368dc184b357507966a0f20930ba665cd9e914d6b0b67c8636ffe8cacfd', '10001');
    return rsa.encrypt(msg);
}
&lt;/script&gt;</pre>


<ol>
<li>decrypt the message from the server using PHP:</li>
</ol>


<pre>require_once('Crypt/RSA.php');
define("KEY_PRIVATE", "-----BEGIN RSA PRIVATE KEY-----
MIIBOQIBAAJBAIpfTU+n3XjKhTm6i5WBswyc4E4ZmM2IHVJ5IhmEvGBuLH0zaNwYSzV1B5ZqDyCT
C6ZlzZ6RTWsLZ8hjb/6MrP0CAwEAAQJAAlK9TTln9No5nbwtvHHesWHaO5V0b6b5ubkXmHlrtuwR
nnNLGT9wqtIyP830/njo3qMFSIFKYGIErt+bSxEgBQIhAK5LTM2u2AudTUb6l1pi8qypXf7UHGUQ
bTxqPZaeh4gHAiEAyz0Wt0emBEieUDw7D4g3IXCb36cJcqDJ0OOz9rAwedsCIEV7QzzjrMDEjp/z
Gg8wTunCAvSpfkBT0hg5ih/XRtRVAiAQXVnf5iADBknhEgh7Zq9xvNyANLX5CeNWM4+BFIzCswIg
dGr1KW1fmIGJXoJ8qbFUbY7Bgk+cEc0kf2GvudfGQ5k=
-----END RSA PRIVATE KEY-----");

function decrypt(msg) {
    $rsa = new Crypt_RSA();
    $rsa-&gt;setEncryptionMode(CRYPT_RSA_ENCRYPTION_PKCS1);
    $rsa-&gt;loadKey(KEY_PRIVATE, CRYPT_RSA_PRIVATE_FORMAT_PKCS1);
    $s = new Math_BigInteger(msg, 16);
    retrun $rsa-&gt;decrypt($s-&gt;toBytes());
}</pre>


<ol>
<li>generate a new key pair:</li>
</ol>


<pre>require_once('Crypt/RSA.php');
define('CRYPT_RSA_MODE', CRYPT_RSA_MODE_INTERNAL);
$rsa = new Crypt_RSA();
$rsa-&gt;setPublicKeyFormat(CRYPT_RSA_PUBLIC_FORMAT_RAW);
$key = $rsa-&gt;createKey(512);
echo $key['privatekey'];
echo "\n";
$e = new Math_BigInteger($key['publickey']['e'], 10);
$n = new Math_BigInteger($key['publickey']['n'], 10);
echo "Public Key:\n";
echo $e-&gt;toHex();
echo "\n";
echo $n-&gt;toHex();</pre>


<p>At last is an example:</p>

<pre>&lt;?php
require_once('Crypt/RSA.php');
define("KEY_PRIVATE", "-----BEGIN RSA PRIVATE KEY-----
MIIBOQIBAAJBAIpfTU+n3XjKhTm6i5WBswyc4E4ZmM2IHVJ5IhmEvGBuLH0zaNwYSzV1B5ZqDyCT
C6ZlzZ6RTWsLZ8hjb/6MrP0CAwEAAQJAAlK9TTln9No5nbwtvHHesWHaO5V0b6b5ubkXmHlrtuwR
nnNLGT9wqtIyP830/njo3qMFSIFKYGIErt+bSxEgBQIhAK5LTM2u2AudTUb6l1pi8qypXf7UHGUQ
bTxqPZaeh4gHAiEAyz0Wt0emBEieUDw7D4g3IXCb36cJcqDJ0OOz9rAwedsCIEV7QzzjrMDEjp/z
Gg8wTunCAvSpfkBT0hg5ih/XRtRVAiAQXVnf5iADBknhEgh7Zq9xvNyANLX5CeNWM4+BFIzCswIg
dGr1KW1fmIGJXoJ8qbFUbY7Bgk+cEc0kf2GvudfGQ5k=
-----END RSA PRIVATE KEY-----");
function decrypt($msg) {
$rsa = new Crypt_RSA();
$rsa-&gt;setEncryptionMode(CRYPT_RSA_ENCRYPTION_PKCS1);
$rsa-&gt;loadKey(KEY_PRIVATE, CRYPT_RSA_PRIVATE_FORMAT_PKCS1);
$s = new Math_BigInteger($msg, 16);
return $rsa-&gt;decrypt($s-&gt;toBytes());
}
if(isset($_POST['submit'])) {
echo decrypt($_POST['enc_text']);
}
?&gt;
&lt;script type="text/javascript" src="jsbn.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="prng4.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="rng.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="rsa.js"&gt;&lt;/script&gt;
&lt;script&gt;
function encrypt() {
var rsa = new RSAKey();
rsa.setPublic('8a5f4d4fa7dd78ca8539ba8b9581b30c9ce04e1998cd881d5279221984bc606e2c7d3368dc184b357507966a0f20930ba665cd9e914d6b0b67c8636ffe8cacfd', '10001');
document.getElementById('enc_text').value = rsa.encrypt(document.getElementById('plaintext').value);
}
&lt;/script&gt;
&lt;form action="" method="post"&gt;
Plain Text:&lt;br/&gt;
&lt;input id='plaintext' type="text" size="40" value="test"/&gt;&lt;br/&gt;
&lt;input type="button" onclick="encrypt()" value="Encrypt"/&gt;&lt;br/&gt;
Encrypted Text:&lt;br/&gt;
&lt;input id="enc_text" name='enc_text' type="text" size="40"/&gt;&lt;br/&gt;
&lt;input name="submit" type="submit" value="Submit" size="10"/&gt;
&lt;/form&gt;</pre>


<h2> Finally</h2>

<p>I hope this solution would help some of you guys. Feel free to ask me questions, and if there&#8217;s something wrong with my article please help me to correct it.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Oracle: maximum number of expressions in a list is 1000]]></title>
    <link href="http://bestmike007.com/2010/09/oracle-maximum-number-of-expressions-in-a-list-is-1000/"/>
    <updated>2010-09-23T00:00:00+08:00</updated>
    <id>http://bestmike007.com/2010/09/oracle-maximum-number-of-expressions-in-a-list-is-1000</id>
    <content type="html"><![CDATA[<p>“I have a comma delimited list of many of IDs that I want to use in an IN clause, Sometimes this list can exceed 1000 items, at which point Oracle throws an error. The query is similar to this&#8230;” – from <a href="http://stackoverflow.com/questions/400255/how-to-put-more-than-1000-values-into-an-oracle-in-clause">http://stackoverflow.com/questions/400255/how-to-put-more-than-1000-values-into-an-oracle-in-clause</a></p>

<p>Recently I’ve encountered the same problem and I’m using Oracle11gR2.</p>

<p>Although it’s not recommended to have more than 1000 items in the IN clause list, we still need something to work around when sometimes it’s needed.</p>

<p>There might be some methods to work around this:</p>

<ol>
<li><p>Wrap the method which would possibly make a query contains an IN list which exceed 1000 items to divide the large query into subqueries.</p></li>
<li><p>Using or in the where clause:</p></li>
</ol>


<p>*select * from table1 where ID in (1,2,3,4,&#8230;,1000) or *</p>

<p><em>ID in (1001,1002,&#8230;,2000)</em></p>

<ol>
<li>Using union all</li>
</ol>


<p><em>select * from table1 where ID in (1,2,3,4,&#8230;,1000)</em></p>

<p><em>union all</em></p>

<p><em>select * from table1 where ID in (1001,1002,&amp;#8230<img src="http://bestmike007.com/wp-content/themes/grey-opaque/images/smilies/icon_wink.gif" title="Smilie: ;)" alt="Smilie: ;)" /></em></p>

<ol>
<li>Temp table of course, the worst solution I think.</li>
</ol>


<p>This problem does not appear to be in some of the other database systems.</p>

<p>If you’ve got some better solutions, please tell me.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[NetBeans: unnecessary deployment when tomcat starts]]></title>
    <link href="http://bestmike007.com/2010/09/netbeans-unnecessary-deployment-when-tomcat-starts/"/>
    <updated>2010-09-23T00:00:00+08:00</updated>
    <id>http://bestmike007.com/2010/09/netbeans-unnecessary-deployment-when-tomcat-starts</id>
    <content type="html"><![CDATA[<p>Something annoying me when using NetBeans 6.9 as my development environment.</p>

<p>This bug has been reported to NetBeans Team. <a href="http://netbeans.org/bugzilla/show_bug.cgi?id=190406">http://netbeans.org/bugzilla/show_bug.cgi?id=190406</a></p>

<!--more-->


<p>Overview:</p>

<p>When I start to run my web site, tomcat will be started. And before deploying</p>

<p>my own application, all the formerly deployed sites will be started and</p>

<p>sometimes it takes a long time but it&#8217;s unnecessary. Why not delete all the</p>

<p>deployed applications before starting the tomcat?</p>

<p>Steps to Reproduce:</p>

<ol>
<li>Create a web project and produce a web site which takes a long time to</li>
</ol>


<p>initiate.</p>

<ol>
<li><p>Deploy this new web site to tomcat.</p></li>
<li><p>Stop tomcat by clicking &#8220;Stop the Server&#8221; button in the output window.</p></li>
<li><p>Deploy the new web site again.</p></li>
</ol>


<p>Actual Results:</p>

<ol>
<li><p>Starting Tomcat.</p></li>
<li><p>Starting the deployed web site.</p></li>
<li><p>Undeploying the web site.</p></li>
<li><p>Deploying the web site agian.</p></li>
</ol>


<p>Expected Results:</p>

<ol>
<li><p>Starting Tomcat which is clean.</p></li>
<li><p>Deploying the web site to be run.</p></li>
</ol>


<p>Build Date &amp; Platform:</p>

<p>Product Version: NetBeans IDE 6.9 (Build 201006101454)</p>

<p>Java: 1.6.0_20; Java HotSpot&trade; 64-Bit Server VM 16.3-b01</p>

<p>System: Windows Server 2008 R2 version 6.1 running on amd64; GBK; en_us (nb)</p>

<p>Userdir: C:UsersAdministrator.netbeans6.9</p>

<p>Additional Information:</p>

<p>I don&#8217;t know whether it would happen on the other platform or not.</p>

<p>It&#8217;s not a critical bug but I think it&#8217;s a problem, because it always takes me</p>

<p>a long time before it&#8217;s deploying what I really need to deploy. Tomcat in</p>

<p>NetBeans is using a dedicated catalina base folder for development use, so I</p>

<p>think the deployed web apps should be removed in case the unnecessary waste of</p>

<p>time.</p>

<p>I hope that it could be solved as soon as possible.</p>
]]></content>
  </entry>
  
</feed>
